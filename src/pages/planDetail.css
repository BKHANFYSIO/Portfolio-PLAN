.detail{ padding:12px 16px; height:calc(100vh - 32px); box-sizing:border-box; display:flex; flex-direction:column; overflow:hidden; font-size:14px }
.detail-header{ display:flex; align-items:center; justify-content:space-between }
.detail-header h1{ margin:0; font-size:18px }
.layout{ display:grid; grid-template-columns: 1fr; gap:12px; margin-top:8px; flex:1; min-height:0 }
.center{ background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:12px; height:100%; display:flex; flex-direction:column; min-height:0; overflow:hidden }
.matrix-header{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin: 4px 0 6px }
.icon-btn{ background:var(--surface2); border:1px solid var(--line-strong); color:var(--text); padding:6px 8px; border-radius:8px; cursor:pointer }
.icon-btn.primary{ background: var(--primary); color:#fff; border-color: transparent }
.actions-desktop{ display:flex; gap:8px }
.actions-mobile{ display:none }
.evl-title{ font-weight:600; margin-top:6px }
.luk{ color:#9aa6c6; margin:6px 0 12px 18px }
.timeline{ display:grid; grid-template-columns: repeat(12, minmax(0,1fr)); gap:6px; margin-top:6px }
.week{ background:rgba(79,124,255,.18); border:1px solid rgba(79,124,255,.35); border-radius:8px; padding:10px; text-align:center; user-select:none }
.week.edit{ cursor:pointer; outline:2px dashed rgba(79,124,255,.6) }
.muted{ color:#9aa6c6 }
.small{ font-size:12px }
.btn{ background:#4f7cff; color:#fff; padding:8px 12px; border:none; border-radius:10px; text-decoration:none }

/* eenvoudige modal */
.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.5); display:flex; align-items:center; justify-content:center; z-index:3500 }
.modal{ background:var(--surface); border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:16px; min-width:320px; max-height:80vh; overflow:auto }
.modal{ display:flex; flex-direction:column }
.modal-header{ position:sticky; top:0; background:var(--surface); z-index:2; padding-bottom:8px; margin:-16px -16px 12px -16px; padding:16px; border-bottom:1px solid var(--line-strong) }
.modal-body{ overflow:auto; padding-right: 12px; scrollbar-gutter: stable }
.modal-footer{ position:sticky; bottom:0; background:var(--surface); z-index:2; padding-top:8px; margin:8px -16px -16px -16px; padding:12px 16px; border-top:1px solid var(--line-strong); text-align:right }
.menu-list .btn{ display:flex; align-items:center; justify-content:flex-start; gap:8px }
.menu-list{ padding-top:4px }

/* Icon-only actieknoppen binnen lijsten */
.action-icon{ background: var(--surface2); border:1px solid var(--line-strong); color: var(--text); padding:6px; border-radius:8px; cursor:pointer }
.action-icon:hover{ background: rgba(255,255,255,.08) }
.action-row{ display:inline-flex; gap:6px; align-items:center }

/* Omvang-bol in lijst */
.size-dot{ display:inline-block; border-radius:50%; background:#a78bfa; box-shadow: 0 0 0 2px rgba(167,139,250,.35) }
.size-dot{ min-width:8px; min-height:8px }
[data-theme-effective='light'] .size-dot{ background:#a78bfa; box-shadow: 0 0 0 2px rgba(167,139,250,.45) }

/* Mini EVL grid in lijst */
.mini-evl-grid{ display:grid; align-items:center; column-gap:8px; row-gap:6px }
.mini-evl-header{ display:grid; gap:4px; align-items:end; margin:4px 0 }
.mini-evl-colhead{ writing-mode: vertical-rl; transform: rotate(180deg); white-space:nowrap; font-size:10px; text-align:center; color: var(--text); opacity:.9 }
.mini-evl-colhead{ height: 28px; display:flex; align-items:flex-end; justify-content:center; overflow:hidden }
.mini-evl-colhead button{ all:unset; cursor:pointer; display:block; width:100%; text-align:center; white-space:nowrap; overflow:hidden; text-overflow:clip }
.mini-evl-colhead.head button{ font-weight:700; color: var(--text); opacity:1 }
.mini-evl-colhead.sub button{ color: var(--sub-accent, #f0a657) }
.mini-evl-colhead.sub{ position:relative }
.mini-evl-colhead.sub::before{ content:''; position:absolute; bottom:100%; left:0; right:0; height:2px; background: var(--sub-accent, #f0a657); border-radius:2px; opacity:.5 }
.mini-evl-colhead button:focus{ outline:2px solid var(--primary) }
.mini-evl-row{ display:grid; gap:4px; align-items:center }
.mini-evl-cell{ width: var(--mini-evl-colw, 24px); height:16px; border-radius:4px; background: rgba(255,255,255,.06); display:flex; align-items:center; justify-content:center }
.mini-evl-cell.head{ background: rgba(255,255,255,.10); box-shadow: inset 0 0 0 1px rgba(255,255,255,.15) }
.mini-evl-cell.head.selected{ box-shadow: inset 0 2px 0 var(--sub-accent, #f0a657), inset 0 0 0 1px rgba(255,255,255,.15) }
.mini-evl-cell.mark{ background: var(--primary) }
.mini-evl-cell.submark{ background: var(--sub-accent, #f0a657) }
.mini-evl-cell.sub{ box-shadow: inset 0 2px 0 var(--sub-accent, #f0a657); width: calc(var(--mini-evl-colw, 24px) * .72); height:12px; margin: 0 auto; border-radius:2px }

/* Subkolom klikbare hint */
.mini-evl-cell, .mini-evl-colhead button{ cursor: pointer }

/* Niveaukleuren via custom properties */
.lvl-evl1{ }
.lvl-evl2{ }
.lvl-evl3{ }
.lvl-evl4{ }
.lvl-evl5{ }
.lvl-case{ }
.lvl-know{ }

/* Huidige lesweek highlight in lijst */
.week-current{ position:relative; padding:6px }
.week-current::after{ content:''; position:absolute; top:-2px; bottom:-2px; left:-18px; right:-10px; border:2px solid rgba(34,197,94,.6); border-radius:8px; pointer-events:none }

/* Light theme verbeterde contrasten voor minitabel */
[data-theme-effective='light'] .mini-evl-cell:not(.mark):not(.submark){ background: rgba(14,19,32,.06); box-shadow: inset 0 0 0 1px rgba(14,19,32,.08) }
[data-theme-effective='light'] .mini-evl-cell.head:not(.mark){ background: rgba(14,19,32,.08) }
[data-theme-effective='light'] .mini-evl-cell.sub:not(.submark){ box-shadow: inset 0 2px 0 var(--sub-accent, #f0a657), inset 0 0 0 1px rgba(14,19,32,.08) }
[data-theme-effective='light'] .mini-evl-colhead.sub::before{ opacity:.45 }
[data-theme-effective='light'] .mini-evl-colhead.head button{ color:#0e1320 }
[data-theme-effective='light'] .week-current::after{ border-color: rgba(34,197,94,.7) }

/* In licht thema: paarse sub-accentkleur voor betere leesbaarheid */
[data-theme-effective='light']{ --sub-accent: #d946ef }

/* Mobiel: header actiebalk vervangen door hamburger */
@media (max-width: 900px){
  .actions-desktop{ display:none }
  .actions-mobile{ display:inline-flex }
}

/* Orientatie-overlay */
.orientation-overlay{ position:fixed; inset:0; background:rgba(0,0,0,.55); display:flex; align-items:center; justify-content:center; z-index:60 }
.orientation-panel{ background:var(--surface); border:1px solid var(--line-strong); border-radius:12px; padding:16px; width:min(360px, 92vw); text-align:center; display:grid; gap:8px }

/* Volledig scherm (mobiel en desktop): verwijder padding/rand en vul viewport */
.center:fullscreen, .center:-webkit-full-screen{
  padding:0; margin:0; border:none; border-radius:0;
  width:100vw; height:100dvh; max-height:none; background:var(--surface);
}
/* compacter header in fullscreen */
.center:fullscreen .matrix-header, .center:-webkit-full-screen .matrix-header{ margin:2px 6px 4px; }
.center:fullscreen .matrix-header h3, .center:-webkit-full-screen .matrix-header h3{ font-size:14px; margin:0 }
.center:fullscreen .icon-btn, .center:-webkit-full-screen .icon-btn{ padding:4px 6px; border-radius:6px }

